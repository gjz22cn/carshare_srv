<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>主页</title>
	</head>
	<style>
		* {
			padding: 0;
			margin: 0;
			box-sizing: content-box;
		}
		a{
			text-decoration: none;
		}
		body,
		html {
			height: 100%;
		}
		
		body {
			
			/*background: url(img/bg-contact.jpg);*/
			background-color: rgba(0, 0, 0, 0.05);
			background-size:auto 1000px;
			
			
		}
		
		#head {
			background: rgba(255, 255, 255, 1);
			height: 50px;
			border-bottom: 1px solid gainsboro;
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			z-index: 100000;
		}
		
		.logo {
			position: absolute;
			left: 5%;
			height: 100%;
			top: 0;
			display: inline-block;
			vertical-align: bottom;
			line-height: 50px;
			font-size: 20px;
			color: green;
		}
		
		.main {
			display: inline-block;
			vertical-align: bottom;
			height: 50px;
			line-height: 50px;
			position: absolute;
			top: 0px;
			right: 350px;
			color: deepskyblue;
			cursor: pointer;
		}
		
		.contact {
			display: inline-block;
			vertical-align: bottom;
			height: 50px;
			line-height: 50px;
			position: absolute;
			top: 0px;
			right: 250px;
			cursor: pointer;
			color: rgba(0, 0, 0, 0.5);
		}
		
		.main:hover,.contact:hover{
			color: deepskyblue;
		}
		
		.login {
			color: black;
			text-decoration: none;
			border: 1px solid gainsboro;
			display: inline-block;
			vertical-align: bottom;
			height: 30px;
			line-height: 30px;
			width: 100px;
			text-align: center;
			background: white;
			position: absolute;
			right: 100px;
			top: 10px;
			border-radius: 4px;
			color: orange;
		}
		
		.login:hover {
			background: deepskyblue;
		}
		
		#map {
			width: 60%;
			height: 450px;
			/*border: 1px solid gainsboro;*/
			box-shadow: 0px 0px 3px black;
			position: absolute;
			top: 100px;
			left: 5%;
			background: white;
			padding: 10px;
		}
		#mapcon{
			height: 100%;
			
		}
		
		#rightCon{
			border: 1px solid gainsboro;
			height: 470px;
			position: absolute;
			top: 100px;
			width: 20%;
			left: 70%;
			margin-left:40px;
		}
		#bottom{
			position: absolute;
			top: 890px;
			left: 0;
			border: 1px solid gainsboro;
			width: 100%;
			height: 100px;
			background: rgba(0,0, 0, 0.4);
		}
	</style>

	<body>
		<div id="head">
			<a class="logo" href="index.html">共享车位</a>
			<a class="main" href="index.html">主页</a>
			<a class="contact" href="contactUs.html">联系我们</a>
			<a class="login" href="login.html">登陆</a>
		</div>
	
		<div id="map">
			<div id="mapcon"></div>
		</div>
		<div id="rightCon"></div>
		<div id="bottom"></div>

		<script src="http://api.map.baidu.com/api?v=2.0&ak=Ew9Gequf1Q1V8YNowH8G86LqjOGvVm1O" type="text/javascript"></script>
		<script src="js/jquery-1.11.2.min.js"></script>
	</body>

	<script>
		function initialize() {
			map = new BMap.Map("mapcon");
			map.centerAndZoom("上海", 15);
			//getLocation();
			map.enableScrollWheelZoom(); //启用滚轮放大缩小，默认禁用
			map.enableContinuousZoom(); //启用地图惯性拖拽，默认禁用

		}

		function getLocation() {
			var geolocation = new BMap.Geolocation();
			geolocation.getCurrentPosition(function(r) {
				if(this.getStatus() == BMAP_STATUS_SUCCESS) {
					var mk = new BMap.Marker(r.point);
					//map.addOverlay(mk);
					map.panTo(r.point);

				} else {
					alert('failed' + this.getStatus());
				}
			}, {
				enableHighAccuracy: true
			});
		}

		function addNavigationControl() {
			// 添加带有定位的导航控件
			var navigationControl = new BMap.NavigationControl({
				// 靠左上角位置
				anchor: BMAP_ANCHOR_TOP_LEFT,
				// LARGE类型
				type: BMAP_NAVIGATION_CONTROL_LARGE,
				// 启用显示定位
				enableGeolocation: true
			});
			map.addControl(navigationControl);
			// 添加定位控件
			var geolocationControl = new BMap.GeolocationControl();
			geolocationControl.addEventListener("locationSuccess", function(e) {
				// 定位成功事件
				var address = '';
				address += e.addressComponent.province;
				address += e.addressComponent.city;
				address += e.addressComponent.district;
				address += e.addressComponent.street;
				address += e.addressComponent.streetNumber;
				//alert("当前定位地址为：" + address);
			});
			geolocationControl.addEventListener("locationError", function(e) {
				// 定位失败事件
				alert(e.message);
			});
			map.addControl(geolocationControl);
		}

		// 添加标注
		function showAreaChewei(data) {
			for(var i = 0; i < data.length; i++) {
				var dic = data[i];
				var point = new BMap.Point(dic.longitude, dic.latitude);
				var marker = new BMap.Marker(point);
				map.addOverlay(marker);
			}

		}

		initialize();
		addNavigationControl();
		//添加标注
        /*
		$.ajax({
			url: "/parking/mycurrorder",
			type: "get",
			success: function(ret) {
				if(ret) {
					if(ret.ret == 0) {
						//showAreaChewei(ret.data);
					} else if(ret.ret == 8001) { //没有数据
						//showAreaCheweiTest(); // TODO: for debug usage
					} else {
						//alert("获取信息失败：" + ret.msg);
					}
				} else {
					//api.alert(err.msg);
				}

			},
			error: function() {
                //alert("获取车位小区信息失败");
			}
		});*/
	</script>

</html>
